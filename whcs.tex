\documentclass[letterpaper,11pt]{article}
\usepackage[margin=1in, lmargin=1.5in]{geometry}
\usepackage[usenames,svgnames]{xcolor}
\usepackage{parskip}
\usepackage{import}
%\usepackage{setspace}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
%\usepackage{fancyhdr}
%\usepackage{wrapfig}
\usepackage[hidelinks]{hyperref} % for URL linking

\usepackage{caption}
\usepackage{tikz}
\usepackage[binary-units]{siunitx}
\usepackage{authblk}
\usepackage{lipsum}
\usepackage{listings}

\usepackage{titlesec}

% keep our graphics nice and neat
\graphicspath{{img/}}

% customize hyperref
\urlstyle{same} % remove monospaced links
\hypersetup{pdfnewwindow=true % prevent the user from leaving the paper
}

\newcommand{\subsubsubsection}[1]{%
  \paragraph{#1}
}

\usetikzlibrary{shapes.misc}
\newcommand\titlebar{%
\tikz[baseline,trim left=3.1cm,trim right=3cm] {
    \fill [cyan!25] (2.5cm,-1ex) rectangle (\textwidth+3.1cm,2.5ex);
    \node [
        fill=cyan!60!white,
        anchor= base east,
        rounded rectangle,
        minimum height=3.5ex] at (3cm,0) {
        \textbf{\thesection}
    };
}%
}
\titleformat{\section}{\bfseries\Large}{\titlebar}{0.1cm}{}
\renewcommand*{\thesection}{\arabic{section}}

% header and footer
\definecolor{CommentGreen}{rgb}{0,0.6,0}
\definecolor{numbering}{gray}{0.5}
\definecolor{keywordc}{rgb}{.63,0,.42}

% Title page
\definecolor{whcs-accent}{HTML}{7F2AFF}
\definecolor{whcs-muted}{HTML}{555555}

\lstdefinestyle{phpcode}{%
  basicstyle=\ttfamily\small,
  language=php,
  numbers=left,
  numberstyle=\footnotesize\color{numbering},
  fontadjust=true,
  basewidth=0.5em,
  % flexiblecolumns=true,
  keywordstyle={\bfseries\color{magenta}},
  commentstyle=\color{CommentGreen},
  stringstyle=\color{red},
  showstringspaces=false,
  tabsize=4,
  %xleftmargin=\MaxSizeOfLineNumbers
}

% We want this depth for our TOC
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

\begin{document}

% BEGIN COVER PAGE
\input{title-page.tex}

% BEGIN TOC,LOF,LOT
\begingroup
\tableofcontents \addcontentsline{toc}{section}{Table of Contents}
\let\clearpage\relax
\listoffigures \addcontentsline{toc}{section}{List of Figures}
\listoftables \addcontentsline{toc}{section}{List of Tables}
\endgroup

% BEGIN SECTION LISTING
% \onehalfspacing
\input{toc.tex}

% BEGIN BIBLIOGRAPHY
\newpage
\clearpage
\thispagestyle{empty}
\pagestyle{empty}

\renewcommand{\refname}{\centerline{\Large\bf References Cited}}
\bibliographystyle{simple}
\bibliography{./ref}

\end{document}
